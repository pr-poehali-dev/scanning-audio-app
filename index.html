<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="apple-mobile-web-app-title" content="WB ПВЗ"/>
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="theme-color" content="#7c3aed"/>
    <title>Поехали!</title>
    <meta name="description" content="Poehali.dev — запусти свой сайт за минуту!"/>
    <meta name="author" content="poehali.dev"/>
    <link rel="icon" type="image/png" href="https://cdn.poehali.dev/files/f052050a-c79c-4485-8cd9-3fd250940378.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="https://cdn.poehali.dev/files/f052050a-c79c-4485-8cd9-3fd250940378.png">
    <link rel="apple-touch-icon" sizes="512x512" href="https://cdn.poehali.dev/files/f052050a-c79c-4485-8cd9-3fd250940378.png">
    <link rel="apple-touch-icon" sizes="192x192" href="https://cdn.poehali.dev/files/f052050a-c79c-4485-8cd9-3fd250940378.png">
    <link rel="yandex-tableau-widget" href="/manifest.json">
    <meta property="og:title" content="Поехали!">
    <meta property="og:description" content="Ваш личный программист, который делает сайты в 30 раз быстрее обычного.">
    <meta property="og:image:width" content="4800">
    <meta property="og:image:height" content="2520">
    <meta property="og:image:alt" content="Поехали! — сервис разработки сайтов с помощью ИИ">
    <meta property="og:image" content="https://cdn.poehali.dev/intertnal/img/og.png">
    <meta name="twitter:image" content="https://cdn.poehali.dev/intertnal/img/og.png">

    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS COMMENT! -->

    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS COMMENT! -->
    <script src="https://cdn.poehali.dev/intertnal/js/pp-min-2.js"></script>
    <script src="https://cdn.poehali.dev/intertnal/js/route-min.js"></script>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS COMMENT! -->

    <meta name="pp-name" value="scanning-audio-app">
      <script src="https://cdn.poehali.dev/intertnal/js/inspector-min.js"></script>
      <script src="https://cdn.poehali.dev/intertnal/js/telemetry-min.js"></script>
  </head>

<body>
<div id="root"></div>
<script type="module" src="/src/main.tsx"></script>

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
      .then(registration => {
        console.log('✅ Service Worker зарегистрирован:', registration.scope);
        
        registration.addEventListener('updatefound', () => {
          const newWorker = registration.installing;
          newWorker.addEventListener('statechange', () => {
            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
              console.log('🔄 Доступно обновление приложения');
              if (confirm('Доступна новая версия! Обновить?')) {
                newWorker.postMessage({ type: 'SKIP_WAITING' });
                window.location.reload();
              }
            }
          });
        });
      })
      .catch(err => {
        console.log('❌ Ошибка регистрации Service Worker:', err);
      });

    let refreshing = false;
    navigator.serviceWorker.addEventListener('controllerchange', () => {
      if (!refreshing) {
        refreshing = true;
        window.location.reload();
      }
    });
  });
}

window.addEventListener('online', () => {
  console.log('🌐 Интернет подключен');
  const event = new CustomEvent('network-status', { detail: { online: true } });
  window.dispatchEvent(event);
});

window.addEventListener('offline', () => {
  console.log('📡 Офлайн режим');
  const event = new CustomEvent('network-status', { detail: { online: false } });
  window.dispatchEvent(event);
});
</script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (m, e, t, r, i, k, a) {
        m[i] = m[i] || function () {
            (m[i].a = m[i].a || []).push(arguments)
        };
        m[i].l = 1 * new Date();
        for (var j = 0; j < document.scripts.length; j++) {
            if (document.scripts[j].src === r) {
                return;
            }
        }
        k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
    })
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(101026698, "init", {
        trustedDomains: ["poehali.dev"],
        clickmap: true,
        trackLinks: true,
        accurateTrackBounce: true,
        webvisor: true,
        trackHash: true
    });
</script>
<noscript>
    <div><img src="https://mc.yandex.ru/watch/101026698" style="position:absolute; left:-9999px;" alt=""/></div>
</noscript>
<!-- /Yandex.Metrika counter -->
</body>
</html>